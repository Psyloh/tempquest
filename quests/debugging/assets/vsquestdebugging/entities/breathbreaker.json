{
  "inheritFrom": "game:entities/lore/bowtorn",
  "code": "breathbreaker",
  "class": "EntityAgent",
  "tags": ["rust-creature", "habitat-land"],
  "variantgroups": [],
  "hitboxSize": { "x": 1.9, "y": 4.8 },
  "deadHitboxSize": { "x": 2.8, "y": 2.0 },
  "eyeHeight": 3.8,
  "attributes": {
    "killedByInfoText": "deadcreature-vile",
    "reckless": true,
    "vsquestSoundPitchMul": 0.6,
    "SoundVolumeMulBySound": {
      "albase:dark-magic-charge-up": 0.55,
      "albase:shock-sound-effect-horror": 0.55
    },
    "alegacyvsquestHideInfoText": true
  },
  "drops": [],
  "client": {
    "renderer": "Shape",
    "size": 2.0,
    "pitchStep": false,
    "shapeByType": {
      "*": { "base": "game:entity/lore/bowtorn/gearfoot" }
    },
    "texturesByType": {
      "*": {
        "skin": { "base": "game:entity/lore/bowtorn/gearfoot" }
      }
    },
    "behaviors": [
      { "code": "repulseagents" },
      { "code": "controlledphysics", "stepHeight": 1.1251 },
      { "code": "floatupwhenstuck", "onlyWhenDead": true },
      { "code": "interpolateposition" },
      { "code": "boss", "bossHpBarRange": 90 },
      { "code": "bossmusicurl", "musicKey": "theme_bosshunt_2", "range": 160, "startRange": 35, "combatTimeoutMs": 12000, "requireRecentDamage": true, "startOnTarget": true, "playInIdle": false, "fadeOutSeconds": 2, "usePhases": true, "phaseSwitching": false, "phases": [ { "whenHealthRelBelow": 0.7, "startAtSeconds": 60 }, { "whenHealthRelBelow": 0.3, "startAtSeconds": 120 } ] },
      { "code": "bossnametag", "nameLangKey": "item-creature-breathbreaker", "color": "#ff0000", "backgroundColor": "#000000", "backgroundOpacity": 0.35, "renderRange": 120 }
    ],
    "animations": [
      { "code": "hurt", "animation": "hurt", "animationSpeed": 2, "weight": 10, "blendMode": "AddAverage" },
      { "code": "die", "animation": "die", "animationSpeed": 1, "weight": 10, "blendMode": "Average", "triggeredBy": { "onControls": ["dead"] } },
      { "code": "idle", "animation": "idle", "blendMode": "Average", "triggeredBy": { "defaultAnim": true } },
      { "code": "walk", "animation": "walk", "blendMode": "Average" },
      { "code": "run", "animation": "run", "blendMode": "Average" },
      { "code": "turret", "animation": "turret", "blendMode": "Average" },
      { "code": "load", "animation": "load", "blendMode": "Average" },
      { "code": "hold", "animation": "hold", "blendMode": "Average" },
      { "code": "unload", "animation": "unload", "blendMode": "Average" },
      { "code": "reload", "animation": "reload", "blendMode": "Average" },
      { "code": "stab", "animation": "stab", "blendMode": "Average" }
    ]
  },
  "server": {
    "behaviors": [
      { "code": "repulseagents" },
      { "code": "controlledphysics", "stepHeight": 1.1251 },
      { "code": "health", "currenthealth": 400, "maxhealth": 400 },
      { "code": "bosscombatmarker", "trackBossHuntDamageLock": true },
      { "code": "bosshastargetsync" },
      { "code": "questtarget", "targetId": "vsquestdebugging:bosshunt:breathbreaker", "leashRange": 120, "returnMoveSpeed": 0.06, "leashCheckMs": 1000 },
      {
        "code": "bossoxygendrainaura",
        "stages": [
          { "whenHealthRelBelow": 1.0, "range": 22, "oxygenDrainPerSecond": 450, "intervalMs": 600, "minOxygenRel": 0.05 },
          { "whenHealthRelBelow": 0.6, "range": 28, "oxygenDrainPerSecond": 650, "intervalMs": 500, "minOxygenRel": 0.05 },
          { "whenHealthRelBelow": 0.3, "range": 34, "oxygenDrainPerSecond": 850, "intervalMs": 450, "minOxygenRel": 0.05 }
        ]
      },
      {
        "code": "bosshook",
        "stages": [
          { "whenHealthRelBelow": 0.9, "cooldownSeconds": 14, "minTargetRange": 6, "maxTargetRange": 28, "windupMs": 280, "pullMs": 900, "pullSpeed": 0.12, "maxPlayerMotion": 0.22, "windupAnimation": "turret", "pullAnimation": "stab", "sound": "albase:dark-magic-charge-up", "soundRange": 30, "soundStartMs": 0, "soundVolume": 0.25 },
          { "whenHealthRelBelow": 0.5, "cooldownSeconds": 11, "minTargetRange": 6, "maxTargetRange": 32, "windupMs": 220, "pullMs": 1100, "pullSpeed": 0.14, "maxPlayerMotion": 0.25, "windupAnimation": "load", "pullAnimation": "stab", "sound": "albase:shock-sound-effect-horror", "soundRange": 34, "soundStartMs": 0, "soundVolume": 0.25 }
        ]
      },
      {
        "code": "bossdamageshield",
        "stages": [
          { "whenHealthRelBelow": 0.55, "shieldMs": 3000, "windupMs": 500, "cooldownSeconds": 18, "immobile": true, "lockYaw": true, "incomingDamageMultiplier": 0.45, "animation": "hold", "sound": "albase:dark-magic-charge-up", "soundRange": 36, "soundStartMs": 0, "loopSound": "albase:bosshunt_1", "loopSoundRange": 24, "loopSoundIntervalMs": 900 }
        ]
      },
      {
        "code": "bossformswap",
        "alternateEntityCode": "vsquestdebugging:breathbreaker-shiver",
        "swapChance": 1,
        "whenHealthRelBelow": 0.9,
        "cooldownSeconds": 18,
        "checkIntervalMs": 1500,
        "requireTarget": true,
        "keepHealthFraction": true,
        "sound": "albase:dark-magic-charge-up",
        "soundRange": 32,
        "soundStartMs": 0
      },
      {
        "code": "taskai",
        "aitasks": [
          {
            "code": "meleeattack",
            "entityCodes": ["player"],
            "priority": 4,
            "damage": 18,
            "damageTier": 4,
            "mincooldown": 350,
            "maxcooldown": 900,
            "maxAttackDistance": 6.5,
            "maxAttackVerticalDistance": 3.5,
            "attackAngleRangeDeg": 120,
            "retaliateAttacks": false,
            "damagePlayerAtMs": 400,
            "attackDurationMs": 1000,
            "animation": "stab",
            "animationSpeed": 1.6,
            "sound": "game:creature/drifter-hit",
            "soundStartMs": 400
          },
          {
            "code": "getoutofwater",
            "priority": 2.5,
            "movespeed": 0.02,
            "animation": "swim",
            "animationSpeed": 1.55
          },
          {
            "code": "stayinrange",
            "entityCodes": ["player"],
            "priority": 2,
            "searchRange": 30,
            "targetRange": 12,
            "targetRangeTolerance": 3,
            "ignoreDeepDayLight": true,
            "cancelOnHurt": true,
            "retaliateAttacks": false,
            "executionChance": 0.05,
            "movespeed": 0.04,
            "animation": "walk",
            "animationSpeed": 2.8
          },
          {
            "code": "turretmode",
            "priority": 1.5,
            "priorityForCancel": 3.5,
            "sensingRange": 24,
            "firingRangeMin": 8,
            "firingRangeMax": 18,
            "abortRange": 9,
            "projectileDamage": 12,
            "projectileDamageTier": 2,
            "projectileCode": "game:bowtornprojectile",
            "retaliateAttacks": false,
            "throwAtMs": 400
          },
          {
            "code": "idle",
            "priority": 1.25,
            "priorityForCancel": 1.35,
            "minduration": 8000,
            "maxduration": 8000,
            "mincooldown": 60000,
            "maxcooldown": 180000,
            "animation": "Contort",
            "animationSpeed": 1
          },
          {
            "code": "wander",
            "priority": 1.0,
            "movespeed": 0.015,
            "animation": "walk",
            "animationSpeed": 1.5,
            "preferredLightLevel": 15
          },
          { "code": "lookaround", "priority": 0.5 }
        ]
      },
      { "code": "deaddecay", "hoursToDecay": 999999 },
      { "code": "bossrespawn", "respawnInGameHours": 24, "spawnNewBoss": false },
      { "code": "floatupwhenstuck", "onlyWhenDead": true }
    ]
  },
  "idleSoundRange": 18,
  "sounds": {
    "hurt": "game:creature/bowtorn/hurt",
    "death": "game:creature/bowtorn/death",
    "idle": "game:creature/bowtorn/idle"
  }
}
